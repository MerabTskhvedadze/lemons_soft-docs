import {ScrollTrailText} from "@/animations/ScrollTrailText";
import {Button} from "@/components/ui/button";
import {Separator} from "@/components/ui/separator";
import React from "react";
import FileInput from '@/components/file-input'

import {Box, Typography, Divider, List, ListItem, ListItemIcon, ListItemText, Chip, Alert} from '@mui/material';
import {
    MdInfoOutline,
    MdFileUpload,
    MdSearch,
    MdFormatListNumbered,
    MdRule,
    MdCheckCircle,
    MdSecurity,
    MdDownloadDone,
    MdCollections,
    // NEW: рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌрЃў рЃљрЃўрЃЦрЃЮрЃюрЃћрЃЉрЃў рЃЎрЃЮрЃюрЃбрЃћрЃўрЃюрЃћрЃарЃћрЃЉрЃўрЃА рЃЉрЃџрЃЮрЃЎрЃўрЃА рЃљрЃдрЃгрЃћрЃарЃўрЃАрЃЌрЃЋрЃўрЃА
    MdVisibility,
    MdContentCopy,
    MdFileDownload,
    MdPlaylistAdd,
    MdDeleteForever,
    MdWarningAmber,
    MdTableChart,
    MdCode
} from 'react-icons/md';
import OcrContainersVisual from "@/components/ocr-import/ocr-container-uploaded";


/* РђћРђћРђћРђћРђћ helpers РђћРђћРђћРђћРђћ */
function Section({title, children}: { title: string; children: React.ReactNode }) {
    return (
        <Box sx={{mb: 2.5}}>
            <Typography variant="h6" sx={{fontWeight: 700, mb: 1.25}}>{title}</Typography>
            {children}
        </Box>
    );
}

function Step({icon, title, desc}: { icon: React.ReactNode; title: string; desc: React.ReactNode }) {
    return (
        <ListItem>
            <ListItemIcon>{icon}</ListItemIcon>
            <ListItemText primary={title} secondary={desc}/>
        </ListItem>
    );
}

function Bullet({title, children}: { title: string; children: React.ReactNode }) {
    return (
        <ListItem>
            <ListItemIcon><MdInfoOutline/></ListItemIcon>
            <ListItemText
                primary={title}
                secondary={<Typography variant="body2" color="text.secondary">{children}</Typography>}
            />
        </ListItem>
    );
}

function SmallPrint() {
    return (
        <Box sx={{color: 'text.secondary', fontSize: 12}}>
            <b>рЃерЃћрЃюрЃўрЃерЃЋрЃюрЃљ:</b> OCR рЃерЃћрЃЊрЃћрЃњрЃћрЃЉрЃў рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃерЃћрЃўрЃфрЃљрЃЋрЃЊрЃћрЃА рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃА (0/O, 1/I рЃюрЃўрЃерЃюрЃћрЃЉрЃўрЃА рЃљрЃарЃћрЃЋрЃљ). рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА рЃњрЃљрЃЊрЃљрЃљрЃЏрЃЮрЃгрЃЏрЃћ
            рЃўрЃЏрЃърЃЮрЃарЃбрЃљрЃЏрЃЊрЃћ.
        </Box>
    );
}

function ButtonLike({onClick, label}: { onClick: () => void; label: string }) {
    return (
        <Box
            component="button"
            onClick={onClick}
            sx={{
                border: '1px solid',
                borderColor: 'divider',
                borderRadius: 1,
                px: 1.5,
                py: 0.75,
                bgcolor: 'primary.main',
                color: 'primary.contrastText',
                cursor: 'pointer',
                '&:hover': {opacity: 0.9}
            }}
        >
            {label}
        </Box>
    );
}

export default function OrcImport() {
    return (
        <>
            <header className=" flex flex-col gap-3">
                <div className={'flex items-center gap-3'}>
                    <ScrollTrailText className={'title_font text-lg'}>­Ъћ╣ рЃњрЃЋрЃћрЃарЃЊрЃўрЃА рЃЊрЃљрЃюрЃўрЃерЃюрЃБрЃџрЃћрЃЉрЃљ</ScrollTrailText>
                    <Button
                        className="title_font bg-blue-700 text-sm"
                        size={'sm'}
                    >
                        рЃњрЃљрЃћрЃфрЃљрЃюрЃў рЃњрЃЋрЃћрЃарЃЊрЃА
                    </Button>
                </div>
            </header>

            <Separator className={'py-3 bg-transparent'}/>

            <div className={'flex flex-col gap-3 bg-gray-100 p-3 rounded'}>
                <h1>­ЪЊё OCR + Field Mapping</h1>
                <FileInput/>
            </div>

            <Separator className={'py-3 bg-transparent'}/>

            <section>
                <Section title="рЃњрЃЋрЃћрЃарЃЊрЃўрЃА рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ">
                    <Typography variant="body2" color="text.secondary">
                        рЃљрЃЦ рЃерЃћрЃњрЃўрЃФрЃџрЃўрЃљрЃЌ рЃљрЃўрЃбрЃЋрЃўрЃарЃЌрЃЮрЃЌ рЃАрЃЦрЃарЃўрЃюрЃерЃЮрЃЌрЃў/рЃАрЃБрЃарЃљрЃЌрЃў, рЃАрЃљрЃўрЃЊрЃљрЃюрЃљрЃф рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃљрЃЏрЃЮрЃўрЃдрЃћрЃЉрЃА рЃбрЃћрЃџрЃћрЃцрЃЮрЃюрЃўрЃА
                        рЃюрЃЮрЃЏрЃарЃћрЃЉрЃА, <br/>
                        рЃњрЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃЌ рЃљрЃЏрЃЮрЃюрЃљрЃгрЃћрЃарЃА рЃЊрЃљ рЃЊрЃљрЃњрЃћрЃ«рЃЏрЃљрЃарЃћрЃЉрЃљрЃЌ рЃўрЃЏрЃърЃЮрЃарЃбрЃерЃў.
                    </Typography>
                </Section>

                <Divider sx={{my: 3}}/>

                {/* NEW: рЃАрЃљрЃЌрЃљрЃБрЃарЃў 7 рЃюрЃљрЃЉрЃўрЃ»рЃќрЃћ, рЃарЃљрЃЊрЃњрЃљрЃю рЃЏрЃарЃљрЃЋрЃљрЃџрЃцрЃљрЃўрЃџрЃўрЃљрЃюрЃў рЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљрЃф рЃњрЃЋрЃљрЃЦрЃЋрЃА */}
                <Section title="рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃЮ - 7 рЃюрЃљрЃЉрЃўрЃ»рЃерЃў">
                    <List dense>
                        <Step
                            icon={<MdFileUpload/>}
                            title="рЃљрЃбрЃЋрЃўрЃарЃЌрЃћ рЃцрЃљрЃўрЃџрЃў"
                            desc={
                                <>
                                    рЃЊрЃљрЃљрЃГрЃўрЃарЃћ РђъChoose fileРђю рЃЊрЃљ рЃљрЃЏрЃЮрЃўрЃарЃЕрЃўрЃћ рЃАрЃБрЃарЃљрЃЌрЃў. рЃЏрЃ«рЃљрЃарЃЊрЃљрЃГрЃћрЃарЃўрЃџрЃў рЃцрЃЮрЃарЃЏрЃљрЃбрЃћрЃЉрЃўрЃљ{' '}
                                    <Chip size="small" label="JPG"/> <Chip size="small" label="PNG"/>{' '}
                                    <Chip size="small" label="WEBP"/> (рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃћрЃЉрЃБрЃџрЃўрЃљ РЅц10MB).
                                </>
                            }
                        />

                        <Step
                            icon={<MdCollections/>}
                            title="рЃЏрЃарЃљрЃЋрЃљрЃџрЃцрЃљрЃўрЃџрЃўрЃљрЃюрЃў рЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ"
                            desc={
                                <>
                                    рЃерЃћрЃњрЃўрЃФрЃџрЃўрЃљ <b>рЃћрЃарЃЌрЃЊрЃарЃЮрЃБрЃџрЃљрЃЊ рЃарЃљрЃЏрЃЊрЃћрЃюрЃўрЃЏрЃћ рЃАрЃБрЃарЃљрЃЌрЃўрЃА рЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ</b> (Drag & Drop рЃљрЃю рЃЏрЃарЃљрЃЋрЃљрЃџрЃ»рЃћрЃарЃљрЃЊрЃў
                                    рЃљрЃарЃЕрЃћрЃЋрЃљ).
                                    рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ рЃерЃћрЃЦрЃЏрЃюрЃўрЃА рЃарЃўрЃњрЃА (queue), рЃДрЃЋрЃћрЃџрЃљ рЃцрЃљрЃўрЃџрЃА рЃњрЃљрЃБрЃерЃЋрЃћрЃЉрЃА OCR-рЃќрЃћ, рЃ«рЃЮрЃџрЃЮ рЃерЃћрЃЊрЃћрЃњрЃћрЃЉрЃА
                                    <i> рЃњрЃљрЃљрЃћрЃарЃЌрЃўрЃљрЃюрЃћрЃЉрЃА</i> рЃЊрЃљ <i>рЃЊрЃћрЃЊрЃБрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљрЃА</i> рЃњрЃљрЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА рЃбрЃћрЃџрЃћрЃцрЃЮрЃюрЃўрЃА рЃюрЃЮрЃЏрЃарЃўрЃЌ.
                                </>
                            }
                        />

                        <Step
                            icon={<MdSearch/>}
                            title="рЃљрЃЏрЃЮрЃфрЃюрЃЮрЃЉрЃљ (OCR)"
                            desc="рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ рЃљрЃЏрЃЮрЃўрЃдрЃћрЃЉрЃА рЃАрЃБрЃарЃљрЃЌрЃўрЃЊрЃљрЃю рЃерЃћрЃАрЃљрЃФрЃџрЃЮ рЃюрЃЮрЃЏрЃарЃћрЃЉрЃА рЃЊрЃљ рЃњрЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃА рЃАрЃўрЃўрЃА рЃАрЃљрЃ«рЃўрЃЌ."
                        />
                        <Step
                            icon={<MdRule/>}
                            title="рЃњрЃљрЃгрЃЏрЃћрЃюрЃЊрЃљ рЃЊрЃљ рЃгрЃћрЃАрЃћрЃЉрЃў"
                            desc="рЃюрЃЮрЃЏрЃарЃћрЃЉрЃўрЃЊрЃљрЃю рЃЏрЃЮрЃўрЃ«рЃАрЃюрЃћрЃЉрЃљ рЃ░рЃўрЃцрЃћрЃюрЃћрЃЉрЃў/рЃАрЃўрЃЋрЃарЃфрЃћрЃћрЃЉрЃў. рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃљ рЃюрЃЮрЃЏрЃарЃўрЃА рЃЋрЃљрЃџрЃўрЃЊрЃљрЃфрЃўрЃљ (E.164 / +995Рђд)."
                        />
                        <Step
                            icon={<MdFormatListNumbered/>}
                            title="Field Mapping"
                            desc="рЃЏрЃўрЃБрЃЌрЃўрЃЌрЃћ рЃарЃЮрЃЏрЃћрЃџрЃў рЃАрЃЋрЃћрЃбрЃерЃў рЃБрЃюрЃЊрЃљ рЃЕрЃљрЃЋрЃўрЃЊрЃћрЃА рЃЌрЃўрЃЌрЃЮрЃћрЃџрЃў рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃљ (рЃЏрЃљрЃњ. Phone, Source, Comment)."
                        />
                        <Step
                            icon={<MdCheckCircle/>}
                            title="рЃњрЃљрЃЊрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ"
                            desc="рЃњрЃљрЃЊрЃљрЃљрЃЌрЃЋрЃљрЃџрЃўрЃћрЃарЃћ рЃљрЃЏрЃЮрЃдрЃћрЃЉрЃБрЃџрЃў рЃАрЃўрЃљ: рЃЏрЃЮрЃюрЃўрЃерЃюрЃћ рЃАрЃгрЃЮрЃарЃА, рЃљрЃЏрЃЮрЃерЃљрЃџрЃћ рЃќрЃћрЃЊрЃЏрЃћрЃбрЃў, рЃерЃћрЃљрЃАрЃгрЃЮрЃарЃћ рЃЌрЃБ рЃАрЃљрЃГрЃўрЃарЃЮрЃљ."
                        />
                        <Step
                            icon={<MdDownloadDone/>}
                            title="рЃўрЃЏрЃърЃЮрЃарЃбрЃў рЃЉрЃљрЃќрЃљрЃерЃў"
                            desc="рЃЊрЃљрЃљрЃЊрЃљрЃАрЃбрЃБрЃарЃћ рЃўрЃЏрЃърЃЮрЃарЃбрЃў Рђћ рЃЕрЃљрЃюрЃљрЃгрЃћрЃарЃћрЃЉрЃў рЃерЃћрЃўрЃЦрЃЏрЃюрЃћрЃЉрЃљ Number Base-рЃерЃў рЃерЃћрЃюрЃќрЃћ рЃЏрЃўрЃюрЃўрЃГрЃћрЃЉрЃБрЃџрЃў рЃБрЃцрЃџрЃћрЃЉрЃћрЃЉрЃўрЃЌ."
                        />
                    </List>
                </Section>

                <Divider sx={{my: 3}}/>

                <Section title={'рЃљрЃЏрЃЮрЃдрЃћрЃЉрЃБрЃџрЃў рЃюрЃЮрЃЏрЃарЃћрЃЉрЃў - рЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ'}>
                    <OcrContainersVisual previewSrc={'/images/ocr-import/nums.png'}/>

                    <List dense>
                        <Step
                            icon={<MdVisibility/>}
                            title="Preview"
                            desc="рЃљрЃбрЃЋрЃўрЃарЃЌрЃБрЃџрЃў рЃАрЃБрЃарЃљрЃЌрЃў."
                        />
                        <Step
                            icon={<MdFormatListNumbered/>}
                            title="РђърЃАрЃћрЃбрЃў #1Рђю"
                            desc="рЃДрЃЮрЃЋрЃћрЃџ рЃЎрЃЮрЃюрЃбрЃћрЃўрЃюрЃћрЃарЃА рЃљрЃЦрЃЋрЃА рЃАрЃљрЃЌрЃљрЃБрЃарЃў"
                        />
                        <Step
                            icon={<MdWarningAmber/>}
                            title="рЃЋрЃљрЃџрЃўрЃЊрЃљрЃфрЃўрЃћрЃЉрЃў"
                            desc="рЃЌрЃБ рЃЋрЃћрЃџрЃў рЃњрЃљрЃЏрЃЮрЃЕрЃюрЃЊрЃћрЃЉрЃљ рЃгрЃўрЃЌрЃџрЃљрЃЊ - рЃцрЃЮрЃарЃЏрЃљрЃбрЃў рЃљрЃарЃљрЃАрЃгрЃЮрЃарЃўрЃљ. рЃњрЃљрЃЏрЃЮрЃљрЃАрЃгрЃЮрЃарЃћ рЃюрЃЮрЃЏрЃарЃўрЃА рЃЋрЃћрЃџрЃерЃў рЃарЃћрЃЊрЃљрЃЦрЃбрЃўрЃарЃћрЃЉрЃўрЃЌ."
                        />
                        <Step
                            icon={<MdDeleteForever/>}
                            title="рЃАрЃбрЃарЃўрЃЦрЃЮрЃюрЃўрЃА/рЃАрЃћрЃбрЃўрЃА рЃгрЃљрЃерЃџрЃљ"
                            desc="рЃДрЃЮрЃЋрЃћрЃџрЃў рЃАрЃбрЃарЃўрЃЦрЃЮрЃюрЃўрЃА рЃЉрЃЮрЃџрЃЮрЃерЃў рЃљрЃарЃўрЃА Remove (РђъРѕњРђю). рЃќрЃћрЃЊрЃљ рЃЏрЃљрЃарЃ»рЃЋрЃћрЃюрЃљ (РђъXРђю) - рЃдрЃўрЃџрЃљрЃЎрЃў рЃ«рЃБрЃарЃљрЃЋрЃА рЃЏрЃЌрЃћрЃџ рЃАрЃћрЃбрЃА."
                        />
                        <Step
                            icon={<MdPlaylistAdd/>}
                            title="РђърЃАрЃћрЃбрЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљРђю"
                            desc="рЃЦрЃЋрЃћрЃЊрЃљ рЃЏрЃљрЃарЃфрЃ«рЃћрЃюрЃљ рЃдрЃўрЃџрЃљрЃЎрЃўрЃЌ рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћ рЃюрЃЮрЃЏрЃарЃћрЃЉрЃўрЃА рЃљрЃ«рЃљрЃџрЃў рЃЉрЃџрЃЮрЃЎрЃў."
                        />
                        <Step
                            icon={<MdTableChart/>}
                            title="рЃАрЃљрЃЏрЃўрЃќрЃюрЃћ рЃфрЃ«рЃарЃўрЃџрЃў"
                            desc="рЃљрЃўрЃарЃЕрЃўрЃћ рЃАрЃљрЃЏрЃўрЃќрЃюрЃћ рЃфрЃ«рЃарЃўрЃџрЃў рЃЊрЃљ рЃЊрЃљрЃљрЃГрЃўрЃарЃћ РђърЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљрЃАРђю, рЃарЃљрЃЌрЃљ рЃерЃћрЃўрЃЦрЃЏрЃюрЃљрЃА рЃЕрЃљрЃюрЃљрЃгрЃћрЃарЃћрЃЉрЃў рЃЉрЃљрЃќрЃљрЃерЃў рЃљрЃарЃЕрЃћрЃБрЃџрЃў рЃфрЃ«рЃарЃўрЃџрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌ."
                        />
                        <Step
                            icon={<MdCode/>}
                            title="рЃюрЃЮрЃЏрЃарЃћрЃЉрЃўрЃА Preview"
                            desc="рЃюрЃЮрЃЏрЃарЃћрЃЉрЃўрЃА рЃАрЃўрЃљ JSON рЃцрЃЮрЃарЃЏрЃљрЃбрЃерЃў рЃљрЃбрЃЋрЃўрЃарЃЌрЃБрЃџрЃў рЃАрЃўрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌ."
                        />
                        <Step
                            icon={<MdContentCopy/>}
                            title="Copy JSON"
                            desc="рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЉрЃА рЃюрЃЮрЃЏрЃарЃћрЃЉрЃўрЃА JSON-рЃА рЃцрЃЮрЃарЃЏрЃљрЃбрЃў."
                        />
                        <Step
                            icon={<MdFileDownload/>}
                            title="Export CSV"
                            desc="рЃЏрЃўрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ рЃАрЃўрЃўрЃА рЃћрЃЦрЃАрЃърЃЮрЃарЃбрЃў рЃћрЃЦрЃАрЃћрЃџрЃерЃў, рЃарЃљрЃЌрЃљ рЃњрЃљрЃЊрЃљрЃўрЃбрЃљрЃюрЃЮ рЃАрЃ«рЃЋрЃљ рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃерЃў рЃљрЃю рЃАрЃгрЃарЃљрЃцрЃљрЃЊ рЃњрЃљрЃБрЃќрЃўрЃљрЃарЃЮ рЃњрЃБрЃюрЃЊрЃА."
                        />
                    </List>
                </Section>

                <Divider sx={{my: 3}}/>

                <Section title="рЃЎрЃљрЃарЃњрЃў рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃћрЃЉрЃў">
                    <List dense>
                        <Bullet title="рЃњрЃљрЃЏрЃЮрЃЎрЃЋрЃћрЃЌрЃўрЃџрЃў рЃАрЃБрЃарЃљрЃЌрЃў">
                            рЃЏрЃљрЃдрЃљрЃџрЃў рЃЎрЃЮрЃюрЃбрЃарЃљрЃАрЃбрЃўрЃА, рЃљрЃарЃљрЃЊрЃљрЃЉрЃўрЃюрЃЊрЃБрЃџрЃў рЃАрЃБрЃарЃљрЃЌрЃў рЃБрЃЎрЃћрЃЌ рЃљрЃЏрЃЮрЃўрЃфрЃюрЃЮрЃЉрЃљ.
                        </Bullet>
                        <Bullet title="рЃћрЃарЃЌрЃўрЃљрЃюрЃў рЃюрЃЮрЃЏрЃарЃўрЃА рЃцрЃЮрЃарЃЏрЃљрЃбрЃў">
                            рЃЏрЃљрЃдрЃљрЃџрЃў рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА рЃАрЃљрЃАрЃБрЃарЃЋрЃћрЃџрЃўрЃљ рЃюрЃЮрЃЏрЃћрЃарЃў рЃўрЃДрЃЮрЃА рЃАрЃарЃБрЃџрЃљрЃЊ рЃњрЃљрЃЏрЃЮрЃбрЃЮрЃЋрЃћрЃЉрЃћрЃЉрЃўрЃА рЃњрЃљрЃарЃћрЃерЃћ: <b>598123456</b>
                        </Bullet>
                        <Bullet title="рЃЊрЃБрЃЉрЃџрЃўрЃЎрЃљрЃбрЃћрЃЉрЃўрЃА рЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃў">
                            рЃўрЃЏрЃърЃЮрЃарЃбрЃљрЃЏрЃЊрЃћ рЃЏрЃЮрЃФрЃћрЃЉрЃюрЃћ рЃБрЃЎрЃЋрЃћ рЃљрЃарЃАрЃћрЃЉрЃБрЃџрЃў рЃюрЃЮрЃЏрЃарЃћрЃЉрЃў рЃюрЃЮрЃЏрЃарЃћрЃЉрЃўрЃА рЃЉрЃљрЃќрЃљрЃерЃў, рЃарЃљрЃЌрЃљ рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃю рЃљрЃўрЃфрЃўрЃџрЃЮ рЃЊрЃБрЃЉрЃџрЃўрЃарЃћрЃЉрЃљ.
                        </Bullet>
                    </List>
                </Section>

                <Divider sx={{my: 3}}/>

                <SmallPrint/>
            </section>

        </>
    )
}